<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.554">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Sean">
<meta name="dcterms.date" content="2024-05-04">
<meta name="description" content="As a journalist, does it know more than me?">

<title>My Blog: Sean McKeown and the LLMS/ - How does Claude assess journalism?</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">My Blog: Sean McKeown and the LLMS/</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">How does Claude assess journalism?</h1>
                  <div>
        <div class="description">
          As a journalist, does it know more than me?
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">LLMs</div>
                <div class="quarto-category">prompting</div>
                <div class="quarto-category">logic</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Sean </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">May 4, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="what-defines-journalism-what-should-i-be-doing" class="level2">
<h2 class="anchored" data-anchor-id="what-defines-journalism-what-should-i-be-doing">What defines journalism, what should I be doing?</h2>
<p>prompt1: When being a journalist, what rules should a journalist follow. Be as detailed as possible. Include details about the pillars of journalism, as well as certain rules regarding actions that should never be broken.</p>
<p>Response:</p>
<p>As a journalist, there are several rules and ethical principles that should be followed to maintain the integrity and credibility of the profession. Here are some key guidelines:</p>
<p>Pillars of Journalism: 1. Accuracy: Journalists must strive for accuracy in their reporting, verifying facts and information from reliable sources. This includes cross-checking details, seeking out multiple perspectives, and correcting any errors promptly.</p>
<ol start="2" type="1">
<li><p>Objectivity: Journalists should aim to report the news in an impartial and unbiased manner, presenting the facts without letting their personal opinions or biases influence the coverage.</p></li>
<li><p>Independence: Journalists should maintain their independence from any external influences, such as political, economic, or social pressures, that could compromise their ability to report the news fairly and accurately.</p></li>
<li><p>Fairness: Journalists should treat all individuals and organizations fairly, giving them an opportunity to respond to allegations or claims made about them.</p></li>
<li><p>Accountability: Journalists should be accountable for their actions and be willing to admit and correct any mistakes or errors in their reporting.</p></li>
</ol>
<p>Rules for Journalists: 1. Never fabricate or falsify information: Journalists must never make up or intentionally distort facts, quotes, or any other information in their reporting. This is a fundamental breach of journalistic ethics.</p>
<ol start="2" type="1">
<li><p>Avoid conflicts of interest: Journalists should disclose any personal, financial, or professional relationships that could influence their reporting and create a perceived or actual conflict of interest.</p></li>
<li><p>Respect privacy and dignity: Journalists should respect the privacy and dignity of individuals, particularly those who are vulnerable or in distress, and avoid intrusive or sensationalistic reporting.</p></li>
<li><p>Protect confidential sources: Journalists must protect the identity of confidential sources, even if it means risking legal consequences, as this is essential for maintaining trust and ensuring the flow of information.</p></li>
<li><p>Avoid plagiarism: Journalists must always properly attribute any information, quotes, or ideas that they have obtained from other sources, and never pass off someone else’s work as their own.</p></li>
<li><p>Maintain professional boundaries: Journalists should maintain a clear separation between their professional and personal lives, avoiding any actions or relationships that could compromise their ability to report the news objectively.</p></li>
<li><p>Respect the law: Journalists must operate within the bounds of the law, respecting relevant laws and regulations, and avoiding any illegal or unethical behavior in the pursuit of a story.</p></li>
<li><p>Seek truth and report it: Above all, journalists should be committed to seeking the truth and reporting it accurately and fairly, even if it means challenging powerful individuals or institutions.</p></li>
</ol>
<p>By adhering to these principles and rules, journalists can uphold the highest standards of the profession and maintain the public’s trust in the media.</p>
</section>
<section id="good-start" class="level2">
<h2 class="anchored" data-anchor-id="good-start">Good start!</h2>
<ul>
<li>as a journalist, you aren’t taught rules often. There is just a general sense of right and wrong that guides most people. That said, there rules are a good synopsis of what drives most people to make the proper decsions that they do.</li>
<li>moving onto examples</li>
</ul>
<p>prompt2: If you are friends with someone close to a subject you are covering, is it ok to interview them yourself?</p>
<p>answer: No, it is generally not considered ethical for a journalist to interview someone who is a close friend or has a close personal relationship with the journalist. This would be a clear conflict of interest that could compromise the objectivity and fairness of the reporting.</p>
<p>Here are some key reasons why a journalist should avoid interviewing a close friend or personal contact:</p>
<ol type="1">
<li><p>Bias and lack of objectivity: A close personal relationship could make the journalist more inclined to be sympathetic or lenient in their questioning, or to avoid challenging the friend’s perspective. This undermines the journalist’s ability to report the story impartially.</p></li>
<li><p>Compromised credibility: If the audience becomes aware of the personal connection, it could damage the journalist’s credibility and lead readers to question the reliability and trustworthiness of the reporting.</p></li>
<li><p>Ethical concerns: Interviewing a friend violates the principle of maintaining professional boundaries and avoiding conflicts of interest. It could be seen as using the journalist’s position for personal gain or advantage.</p></li>
<li><p>Pressure and undue influence: A friend may feel pressure to cooperate with the journalist’s requests or to provide information that paints them in a favorable light, even if it is not entirely accurate.</p></li>
</ol>
<p>Instead, the ethical approach would be for the journalist to disclose the personal relationship to their editor and recuse themselves from directly covering that aspect of the story. The editor can then assign the interview to another journalist who does not have a personal connection to the source.</p>
<p>The core principle is that journalists must always strive to maintain their independence and objectivity, even if it means avoiding certain stories or sources that could compromise their ability to report the news fairly and accurately.</p>
</section>
<section id="good-answer" class="level2">
<h2 class="anchored" data-anchor-id="good-answer">Good answer!</h2>
<p>prompt3: say you are writing a sensitive paper where you interview many people anonymously on a subject. When writing, who should you have in mind? The people you are covering, or the strength and truth being told?</p>
<p>answer: When writing a sensitive paper where you have interviewed many people anonymously, the primary focus should be on the strength and truth being told, rather than the specific people you are covering.</p>
<p>Here are some key considerations:</p>
<ol type="1">
<li>Protecting anonymity and confidentiality:
<ul>
<li>The commitment to maintain the anonymity and confidentiality of your sources is paramount. You have an ethical obligation to protect the identities of those who have trusted you with sensitive information.</li>
</ul></li>
<li>Prioritizing the truth and integrity of the reporting:
<ul>
<li>Your primary responsibility is to accurately and faithfully convey the insights, experiences, and perspectives shared by your anonymous sources. The strength and truthfulness of the collective narrative should take precedence over any individual’s agenda or interests.</li>
</ul></li>
<li>Avoiding undue influence or bias:
<ul>
<li>While you should be mindful of the potential impact your reporting may have on the individuals or communities you are covering, you should not let that influence the way you present the information. The truth and accuracy of the reporting must remain your guiding principle.</li>
</ul></li>
<li>Maintaining objectivity and balance:
<ul>
<li>Even when dealing with sensitive or controversial topics, you should strive to present a balanced and nuanced perspective, acknowledging different viewpoints and avoiding overly partisan or sensationalistic framing.</li>
</ul></li>
<li>Considering the broader public interest:
<ul>
<li>Ultimately, the goal of your reporting should be to serve the public interest by shedding light on important issues and giving voice to those who may not have a platform to share their experiences.</li>
</ul></li>
</ol>
<p>By keeping the truth, integrity, and public interest at the forefront, you can ensure that your sensitive reporting is ethical, impactful, and true to the experiences of your anonymous sources, without undue influence or bias towards any particular individual or group.</p>
<p>The key is to maintain a steadfast commitment to journalistic principles, while also being mindful of the potential consequences and sensitivities involved in covering such a sensitive topic.</p>
</section>
<section id="another-good-answer" class="level2">
<h2 class="anchored" data-anchor-id="another-good-answer">another good answer!</h2>
<p>prompt4: If you are covering a sensitive topic, and don’t have previous experience writing news articles, how would you best research how to write about the topic? Ex, racism, sexism etc</p>
<p>response: If you are covering a sensitive topic, such as racism, sexism, or other complex societal issues, and you don’t have previous experience writing news articles, here are some steps you can take to research and prepare for effectively covering the topic:</p>
<ol type="1">
<li>Educate yourself on the topic:
<ul>
<li>Thoroughly research the history, context, and current perspectives on the issue you are covering. Read academic articles, books, and reputable news sources to gain a deep understanding of the topic.</li>
<li>Familiarize yourself with the key terminology, concepts, and frameworks used to discuss the issue.</li>
<li>Educate yourself on the experiences and perspectives of those directly impacted by the issue.</li>
</ul></li>
<li>Consult with subject matter experts:
<ul>
<li>Reach out to and interview scholars, activists, and community leaders who have extensive knowledge and experience with the topic.</li>
<li>Ask them for guidance on how to approach the issue sensitively and effectively.</li>
<li>Seek their input on the best practices for interviewing and representing the voices of marginalized communities.</li>
</ul></li>
<li>Develop a nuanced, balanced approach:
<ul>
<li>Avoid sensationalism or oversimplification when covering sensitive topics.</li>
<li>Strive to present a range of perspectives and experiences, acknowledging the complexity of the issue.</li>
<li>Be mindful of power dynamics and avoid perpetuating harmful stereotypes or biases.</li>
</ul></li>
<li>Prioritize ethics and empathy:
<ul>
<li>Uphold journalistic ethics, such as maintaining objectivity, protecting sources, and avoiding conflicts of interest.</li>
<li>Approach your interviews and reporting with empathy, compassion, and a commitment to amplifying the voices of those impacted.</li>
<li>Be prepared to handle potentially traumatic or emotionally charged testimonies with care and sensitivity.</li>
</ul></li>
<li>Collaborate and seek feedback:
<ul>
<li>Consider co-authoring or consulting with experienced journalists who have covered similar topics.</li>
<li>Seek feedback from editors, fact-checkers, and members of the communities you are covering to ensure your reporting is accurate, sensitive, and meaningful.</li>
</ul></li>
<li>Continuous learning and reflection:
<ul>
<li>Remain open to feedback and be willing to adjust your approach as you gain more experience and knowledge.</li>
<li>Engage in ongoing professional development and training to strengthen your skills in covering sensitive and complex topics.</li>
<li>Reflect on your own biases and blindspots, and work to address them in your reporting.</li>
</ul></li>
</ol>
<p>By taking these steps, you can develop the necessary skills and knowledge to cover sensitive topics, such as racism, sexism, and other societal issues, in a responsible, ethical, and impactful way, even without previous experience in news reporting.</p>
</section>
<section id="heres-my-problems-conclusion" class="level2">
<h2 class="anchored" data-anchor-id="heres-my-problems-conclusion">Here’s my problems… Conclusion</h2>
<p>These answers, especially the last one, are very cookie cutter. These answers can come from common sense understandings, and may mislead someone who is working on being a journalist. One huge thing for all of these questions, that most journalists are required to work off of, is precedent. Working off of your papers precedent, or AP news precedent, is one of the largest parts of being a journalist and would fit into any of these questions as an answer. Besides that huge miss, these answers are general enough to be accurate.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/SeanMcKeown1\.github\.io\/comm4190_S24_Using_LLMs_Blog\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>